{% extends 'variant_app/base.html' %}
{% block content %}

{% load static %}
<script src="{% static 'variant_app/dropdown.js' %}"></script>

<div class="coll_text_container" id="contain">

  <style>
    span[class^="seq"] {
    line-height: 30px;
    cursor: default;
    }

  </style>

  <script src="{% static 'variant_app/text.js' %}"></script>
  <script>
    text_visualization("{% url 'variant_app:text_content' text.id %}",
    "{% url 'variant_app:text_content' base_text.id %}",
    "{{ text.corpus.id }}");
  </script>

  <div class="top_elem sans_font">
    <a style="font-size: 20px;"
       href="{% url 'variant_app:corpus' text.corpus.id %}">Back to text home</a>
  </div>

  {% if not text.is_base %}
  <div class="top_elem sans_font">
    <input type="checkbox" id="var_cb" name="variable_checkbox" checked="checked" />
    <label for="var_cb">Highlight variable words</label>
  </div>

  <div class="top_elem sans_font" style="margin-left: 40px;">
    <input type="checkbox" id="base_cb" name="base_checkbox" />
    <label for="base_cb">Compare with base text</label>
  </div>

  <div class="dropdown" style="margin-left: 40px;">
    <button onclick="dropdown();" class="dropbtn sans_font"><span style="color: #ddd;">&#x25BC;</span> More options</button>
    <div id="myDropdown" class="dropdown-content sans_font">
      <a href="#" style="color: red"
	 onclick="delete_text('{% url 'variant_app:delete_text' text.id %}')">Delete variant</a>
    </div>
  </div>
  {% endif %}


  {% if user.is_anonymous %}
  {% include "registration/unregistered_warning.html" %}
  {% endif %}

  <h2 style="padding-left: 20px;" 
      class="text_title title_font">{{ text.text_name }}{% if text.is_base %}<span class="sans_font" style="font-size: 30px"> (base text)</span>{% endif %}</h2>

  <div id="wrapper">
    <div id="text" class="text text_font" style="max-width: 99%;"></div>
    <div id="base_text" class="text text_font"></div>
  </div>
</div>

{% endblock %}
